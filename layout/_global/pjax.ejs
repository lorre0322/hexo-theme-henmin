<script>
	function LoadPjax() {
		window.pjax = new Pjax({
			selectors: [
				'head title',
				'head meta[name="keywords"]',
				'head meta[name="description"]',
				'#contain',
			],
			cache: true,
			cacheBust: false
		});
	}
	LoadPjax()
	document.addEventListener('pjax:send',()=>{
		document.body.classList.remove("search")
		document.getElementById('load').classList.add('show')
	})
	document.addEventListener('pjax:complete', ()=> {
		setTimeout(() => {
			document.getElementById('load').classList.remove('show')
		}, 200);
	})
	// Pjax请求错误时，跳转到404页面
	document.addEventListener('pjax:error', (err) => {
		if (err.request.status === 404) pjax.loadUrl('/404/')
	})
</script>